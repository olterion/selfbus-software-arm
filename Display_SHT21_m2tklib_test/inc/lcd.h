#ifndef LCD_H_
#define LCD_H_

#include <sblib/ioports.h>
#include <u8g_arm.h>
#include <M2tk.h>

extern u8g_t u8g;
extern M2tk m2;

#define RETURNTIME_HOMESCREEN 5000 //time to return automatically to home screen [ms]

extern uint8_t draw_state;

static const int uiKeyUpPin = PIO0_7;
static const int uiKeyDownPin = PIO1_4;
static const int uiKeySelectPin = PIO1_6;
static const int uiKeyExitPin = PIO1_7;


void u8g_box_frame(uint8_t a);

void initLCD(void);
void draw_home_screen(void);
uint8_t update_home_screen(void);
void fn_inc(m2_el_fnarg_p fnarg);
void fn_dec(m2_el_fnarg_p fnarg);
void draw_graphics(void);
uint8_t update_graphics(uint8_t);
void draw_menu(void);


struct lcd_home_screen {
	bool show_window_state;	//0=off, 1=on
	bool window_state;		//0=cloded, 1=open
	bool show_ventialtion_state; //0=off, 1=on
	uint8_t ventilation_level; //actual level of room ventilation
};

extern struct lcd_home_screen window_ventilation;


#define luefter_width 15
#define luefter_height 13
static unsigned char luefter_bits[] U8G_PROGMEM = {
   0x40, 0x00, 0xe0, 0x00, 0xe0, 0x01, 0xe0, 0x01, 0xe0, 0x01, 0xc0, 0x01,
   0xc0, 0x00, 0x70, 0x00, 0xfc, 0x1f, 0x9e, 0x3f, 0x1f, 0x7f, 0x0f, 0x3e,
   0x06, 0x00 };

#define snowflake_width 14
#define snowflake_height 15
static unsigned char snowflake_bits[] = {
   0x20, 0x01, 0xf0, 0x03, 0xe4, 0x09, 0xc6, 0x18, 0xcc, 0x0c, 0xdf, 0x3e,
   0xff, 0x3f, 0xe0, 0x01, 0xf0, 0x03, 0xff, 0x3f, 0xce, 0x1c, 0xcc, 0x0c,
   0xc4, 0x08, 0xe0, 0x01, 0x20, 0x01 };

//Thermometer bitmap (source: https://github.com/basvdijk/arduino-weather/blob/master/arduino-weather.ino)
#define temperature_width 18
#define temperature_height 47
static unsigned char temperature_bits[] U8G_PROGMEM = {
   0xc0, 0x0f, 0x00, 0xe0, 0x1f, 0x00, 0x70, 0x38, 0x00, 0x30, 0x30, 0x00,
   0x30, 0x30, 0x00, 0x30, 0x30, 0x00, 0x30, 0x30, 0x00, 0x30, 0x30, 0x00,
   0x30, 0x30, 0x00, 0xb0, 0x37, 0x00, 0xb0, 0x37, 0x00, 0x30, 0x30, 0x00,
   0xb0, 0x37, 0x00, 0xb0, 0x37, 0x00, 0x30, 0x30, 0x00, 0x30, 0x30, 0x00,
   0xb0, 0x37, 0x00, 0xb0, 0x37, 0x00, 0x30, 0x30, 0x00, 0xb0, 0x37, 0x00,
   0xb0, 0x37, 0x00, 0xb0, 0x37, 0x00, 0x30, 0x30, 0x00, 0xb0, 0x37, 0x00,
   0xb0, 0x37, 0x00, 0xb0, 0x37, 0x00, 0xb0, 0x37, 0x00, 0xb0, 0x37, 0x00,
   0xb0, 0x37, 0x00, 0xb0, 0x37, 0x00, 0x98, 0x67, 0x00, 0x8c, 0xc7, 0x00,
   0xc6, 0x8f, 0x01, 0xe2, 0x1f, 0x01, 0xf3, 0x3f, 0x03, 0xf3, 0x3f, 0x03,
   0xf3, 0x3f, 0x03, 0xf3, 0x3f, 0x03, 0xf3, 0x3f, 0x03, 0xf3, 0x3f, 0x03,
   0xf3, 0x3f, 0x03, 0xe6, 0x9f, 0x01, 0xc6, 0x8f, 0x01, 0x0c, 0xc0, 0x00,
   0x38, 0x70, 0x00, 0xf0, 0x3f, 0x00, 0xc0, 0x0f, 0x00 };



//struct lcd_page


#endif
